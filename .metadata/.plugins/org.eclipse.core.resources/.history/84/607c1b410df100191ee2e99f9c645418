package application;

import javafx.collections.FXCollections;
import javafx.collections.ObservableList;

public class ObservedCompany {
	private String companyName;
	private ObservableList<ObserverPartner> partners;
	private ObservableList<String> sentMessages;
	
	
	public ObservedCompany(String companyName) {
		super();
		this.companyName = companyName;
	}
	
	public void addNewPartner(String partnerName){
		ObserverPartner p = new ObserverPartner(this, partnerName);
	}
	
	public void removeThisPartner(Integer partnerIndex){
		partners.remove(partnerIndex);
		
	}
	
	public String getCompanyName(){
		return companyName;
	}
	
	public void sendMessageToAllPartners(String message){
		partners.forEach((x) -> {
			x.messageSending(message);
		});
	}
	
	public ObservableList<ObserverPartner> collectAllPartners(){
		return partners;
	}

	public ObservableList<String> collectAllMessages(){
		sentMessages = FXCollections.observableArrayList(); 
		partners.forEach((x) ->{
			sentMessages.addAll(x.getAllSentMessages());
		});
		return sentMessages;
	}

	
}
