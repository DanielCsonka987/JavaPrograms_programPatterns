package application;

import javafx.collections.FXCollections;
import javafx.collections.ObservableList;

public class ServiceObservingMessaging {
	
	private ObservableList<ObservedCompany> companies;
	private ObservableList<String> messagesOfCompany;

	public ServiceObservingMessaging() {
		super();
		
		companies = FXCollections.observableArrayList();
		loadInTestdatasToCompanies();
		messagesOfCompany = FXCollections.observableArrayList();
	}
	
	private void loadInTestdatasToCompanies()(){
		companies.add(new ObservedCompany("Nokia"));
	}
	
	public ObservableList getTheCompaniesList(){
		return companies;
	}
	
	public void addNewCompany(String companyName){
		ObservedCompany comp = new ObservedCompany(companyName); 
		companies.add(comp);
	}
	
	public void removeThisompany(Integer companyIndex){
		companies.remove(companyIndex);
	}
	
	public ObservableList<ObserverPartner> getThisCompanyPartners(Integer companyIndex){
		return findThisCompany(companyIndex).collectAllPartners();
	}
	
	public void addPartnerToThisCompany(Integer companyIndex, String partnerName){
		findThisCompany(companyIndex).addNewPartner(partnerName);
	}
	
	public void removePartnerFromThisCompany(Integer companyIndex, Integer partnerIndex){
		findThisCompany(companyIndex).removeThisPartner(partnerIndex);
	}
	
	public ObservableList<String> getThisCompanyMessages(Integer companyIndex){
		return findThisCompany(companyIndex).collectAllMessages();
	}


	private ObservedCompany findThisCompany(Integer companyIndex){
		return (ObservedCompany)companies.get(companyIndex);
	}
}
